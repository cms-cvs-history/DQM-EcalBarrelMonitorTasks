process MONITOR = { 

     module ecalUncalibHitMaker = EcalWeightUncalibRecHitProducer{
#     module ecalUncalibHitMaker = EcalAnalFitUncalibRecHitProducer{
       string digiProducer   = "Ecal2004TBSource"
       string EBdigiCollection = ""
       string EEdigiCollection = ""
       string EBhitCollection  = "EcalUncalibRecHitsEB"
       string EEhitCollection  = ""
       untracked int32 nMaxPrintout = 0
     }

     module ecalRecHitMaker = EcalRecHitProducer{
       string uncalibRecHitProducer = "ecalUncalibHitMaker"
       string EBuncalibRecHitCollection = "EcalUncalibRecHitsEB"
       string EEuncalibRecHitCollection = ""
       string EBrechitCollection = "EcalRecHitsEB"
       string EErechitCollection = ""
       untracked int32 nMaxPrintout = 0
     }

     module ecalMonitorModule = EcalBarrelMonitorModule{
#       untracked string outputFile = 'EcalBarrelMonitorModule.root'
#       untracked bool verbose = true
       untracked bool enableMonitorDaemon = false
#       untracked bool enableSleep = true
#       untracked bool enableEventDisplay = true
#       untracked string runType = 'COSMIC'
#       untracked string runType = 'LASER'
#       untracked string runType = 'PEDESTAL'
       untracked string runType = 'ELECTRON'
#       untracked string runType = 'TEST_PULSE'
        untracked int32 runNumber = 000073276
     }

     module ecalOccupancyTask = EBOccupancyTask{ }
     module ecalBeamCaloTask = EBBeamCaloTask{ string digiProducer = "Ecal2004TBSource" }

     module ecalMonitorClient = EcalBarrelMonitorClient{
       untracked string outputFile = 'EcalBarrelMonitorClient.root'
       untracked string location = "H4"
       untracked string baseHtmlDir = "."
       untracked bool cloneME = false
       untracked bool enableMonitorDaemon = false
       untracked bool verbose = false
       untracked vint32 superModules = { 1 }
     }

     path p = {  ecalUncalibHitMaker,
                 hodoscopeReco,
                 tdcReco,
                 ecalMonitorModule,
                 ecalBeamCaloTask,
                 ecalMonitorClient
                 }


	source = Ecal2004TBSource { 
		untracked vstring fileNames = { 'file:/home/ghezzi/data/ecs73276' }
		#untracked int32 maxEvents = 18000	
	        untracked int32 maxEvents = 2000	
	}

# Hodoscope Reconstruction
 include "RecoTBCalo/EcalTBHodoscopeReconstructor/data/EcalTBHodoscopeReconstructor.cfi"

# TDC Reconstruction
 include "RecoTBCalo/EcalTBTDCReconstructor/data/EcalTBTDCReconstructor.cfi"



     es_source = EcalTrivialConditionRetriever{ }
     service = MessageLogger{
       vstring destinations = { "pippo.txt" }
       vstring debugModules = { "EBBeamCaloTask" }

       PSet cout = { string threshold = "INFO"
                     bool noTimeStamps = true
                     bool noLineBreaks = true
                   }

       PSet pippo.txt = { string threshold = "DEBUG"
                     PSet default = { int32 limit = 1000 }
                     bool noTimeStamps = true
                     bool noLineBreaks = true
                   }

     }

     service = DaqMonitorROOTBackEnd{ }

}
